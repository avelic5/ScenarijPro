<!DOCTYPE html>
<html lang="bs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pisanje scenarija</title>

  <!-- font za scenarij -->
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/writing.css" />
</head>
<body>

  <!-- ZAGLAVLJE-->
  <header class="app-header">
    <div class="header-left">
      <a href="projects.html" class="back-btn" aria-label="Nazad na projekte">
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path d="M15 19L8 12l7-7" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <h1 class="project-title" title="Neimenovani scenarij"><strong>Neimenovani scenarij</strong></h1>
    </div>

    <div class="header-center header-toolbar" aria-label="Alati">
      <!-- formatirajTekst -->
      <button id="btnBold" class="tool-btn"><b>Bold</b></button>
      <button id="btnItalic" class="tool-btn"><b>Italic</b></button>
      <button id="btnUnderline" class="tool-btn"><b>Underline</b></button>

      <!-- ostale metode modula -->
      <button id="btnBrojRijeci" class="tool-btn secondary">Broj riječi</button>
      <button id="btnDajUloge" class="tool-btn secondary">Daj uloge</button>
      <button id="btnPogresnaUloga" class="tool-btn secondary">Pogrešne uloge</button>
      <button id="btnGrupisiUloge" class="tool-btn secondary">Grupiši uloge</button>
      <button id="btnScenarijUloge" class="tool-btn secondary">Scenarij uloge</button>
      <button id="btnBrojLinija" class="tool-btn secondary">Broj linija uloge</button>
    </div>

    <div class="header-right">
      <button class="delete-btn" type="button">OBRIŠI</button>
      <button class="save-btn" type="button">SPASI</button>
    </div>
  </header>


  <!-- DIV ZA PORUKE -->
  <div id="poruke" class="poruke"></div>

  <!-- Gornji red: scene lijevo, API paneli desno -->
  <div class="top-row">
    <!-- Sidebar sa scenama -->
    <aside class="sidebar">
      <div class="sidebar-title">Scene <span class="count">(3)</span></div>

      <ul class="scene-list">
        <li class="scene-item active">
          <div class="scene-main">
            <span class="scene-no">1.</span>
            <span class="scene-title">EXT. OBALA RIJEKE – DAN </span>
          </div>
          <div class="scene-pages">5/8</div>
        </li>

        <li class="scene-item">
          <div class="scene-main">
            <span class="scene-no">2.</span>
            <span class="scene-title">EXT. ULICA – DAN</span>
          </div>
          <div class="scene-pages">3/8</div>
        </li>

        <li class="scene-item">
          <div class="scene-main">
            <span class="scene-no">3.</span>
            <span class="scene-title">INT. STANICA – NOĆ</span>
          </div>
          <div class="scene-pages">2/8</div>
        </li>
      </ul>
    </aside>

    <div class="api-stack" aria-label="API kontrole">
      <!-- Backend kontrole (S2): scenario/linije/likovi/deltas -->
      <div class="api-panel" id="api-controls">
        <div class="api-field">
          <label for="api-userId">User ID</label>
          <input id="api-userId" type="number" inputmode="numeric" min="1" value="1" />
        </div>
        <div class="api-field">
          <label for="api-status">Status</label>
          <input id="api-status" type="text" placeholder="U radu" autocomplete="off" />
        </div>
        <button id="btnApiUpdateStatus" type="button" class="tool-btn secondary">Ažuriraj status</button>
      </div>

      <div class="api-panel" id="api-character">
        <div class="api-field">
          <label for="api-charName">Ime lika (LOCK)</label>
          <input id="api-charName" type="text" placeholder="ALICE" autocomplete="off" />
        </div>
        <button id="btnApiLockChar" type="button" class="tool-btn secondary">Zaključaj ime</button>

        <div class="api-field">
          <label for="api-oldName">Staro ime</label>
          <input id="api-oldName" type="text" placeholder="ALICE" autocomplete="off" />
        </div>
        <div class="api-field">
          <label for="api-newName">Novo ime</label>
          <input id="api-newName" type="text" placeholder="ALICIA" autocomplete="off" />
        </div>
        <button id="btnApiRenameChar" type="button" class="tool-btn secondary">Promijeni ime</button>
      </div>

      <div class="api-panel" id="api-deltas">
        <div class="api-field">
          <label for="api-since">Since (unix)</label>
          <input id="api-since" type="number" inputmode="numeric" min="0" value="0" />
        </div>
        <button id="btnApiGetDeltas" type="button" class="tool-btn secondary">Deltas</button>
      </div>
    </div>
  </div>

<!-- Modalni input za unos uloge -->
<div id="input-panel" class="input-panel hidden">
    <label for="input-tekst">Unesite ime uloge:</label>
    <input type="text" id="input-tekst" autocomplete="off">
    <button id="input-potvrdi" class="confirm-btn">Potvrdi</button>
    <button id="input-zatvori" class="close-btn">Zatvori</button>
</div>


  

  <!-- Editor -->
  <main class="editor-wrap">
    <div id="editor" class="editor-paper" contenteditable="true">
      <div class="scenario-line" data-line-id="1"><br></div>
    </div>
  </main>

  <!-- Popup: potvrda brisanja scenarija -->
  <div id="deleteScenarioModal" class="modal hidden" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="deleteScenarioTitle">
      <h2 id="deleteScenarioTitle" class="modal-title">Obriši scenarij</h2>
      <p class="modal-text">Da li ste sigurni da želite obrisati ovaj scenarij? Ova akcija je trajna.</p>

      <div id="deleteScenarioError" class="modal-error" aria-live="polite"></div>

      <div class="modal-actions">
        <button id="btnDeleteScenarioCancel" type="button" class="tool-btn secondary">Odustani</button>
        <button id="btnDeleteScenarioConfirm" type="button" class="tool-btn danger">Obriši</button>
      </div>
    </div>
  </div>

  <!-- Popup: deltas (izmjene) -->
  <div id="deltasModal" class="modal hidden" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="deltasTitle">
      <h2 id="deltasTitle" class="modal-title">Deltas (izmjene)</h2>
      <p class="modal-text">Prikaz promjena nakon zadatog vremena.</p>

      <div id="deltasList" class="deltas-list" aria-live="polite"></div>

      <div class="modal-actions">
        <button id="btnDeltasOk" type="button" class="tool-btn secondary">OK</button>
      </div>
    </div>
  </div>


  <script src="/js/EditorTeksta.js"></script>
  <script src="/js/PoziviAjaxFetch.js"></script>
  <script src="/js/editor.js?v=3"></script>

</body>
</html>
