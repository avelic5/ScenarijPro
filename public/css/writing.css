/* Varijable smještene u pseudoklasu root */
:root{
  --brand:#5B3FFF;
  --brand-100:#E9EEFF;
  --text:#333;
  --muted:#555B6D;
  --paper:#fff;
  --header-bg:#fff;
  --btn-shadow: 0 2px 6px rgba(0,0,0,0.05);
  --letters:#f5f5ff;
}

*,*::before,*::after{ box-sizing:border-box; }
html,body{ height:100%; font-size:100%; }
body{
  margin:0;
  background-color: #f5f6fa;
  color:var(--text);
  font-family: "Poppins", "Inter", sans-serif;


}

.hidden{ display:none; }

/* Zaglavlje */
.app-header{
  position: sticky;
  top:0;
 z-index:50;
  display:grid;
  grid-template-columns: 1fr auto 1fr; /*auto ovdje igra ulogu kao content-size*/
  align-items:center;
  gap:1rem;
  padding: .75rem 1rem;
  height:10vh;
  background: var(--header-bg);
  border-bottom: 1px solid #e9e9ee;
}

.header-left{
  display:flex;
  align-items:center;
  min-width: fit-content;
  gap:.75rem; 
  min-width:0; /* da title može skraćivati, inace je najmanja content-size */
}
.project-title{
  font-size: 1.3rem;
  font-weight: 600;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin:0;
}

.back-btn{
  display:inline-flex; 
  align-items:center; 
  justify-content:center;
  width:40px; 
  aspect-ratio: 1/1;
  margin-right:5px; 
  border-radius:50%;
  background: var(--brand);
  
  border:none; 
  cursor:pointer;
  box-shadow: var(--btn-shadow);
}

.header-center{ /*ovo je za buttone u sredini*/
  display:flex; 
  justify-content:center; 
  align-items:center;
  gap:.5rem;
  flex-wrap: wrap; /* prelamanje u 2 reda na manjim ekranima */
}
.mode-btn{
  text-transform: uppercase;
  font-size: .85rem;
  background:var(--letters); 
  font-weight:900;
  color:#989898;
  border:none; border-radius: 9999px;
  padding:.5rem .9rem;
  cursor:pointer;
  box-shadow: var(--btn-shadow);
  transition: background-color .15s ease;
}
.mode-btn:hover{ background:#f0f0f0; } /* zahtjevana boja na hover */

.header-right{ display:flex; justify-content:flex-end; align-items:center; gap:.5rem; }
.save-btn{
  text-transform: uppercase;
  font-weight: 600;
  background:#28a745; color:#fff;
  border:none;
  border-radius: 9999px;
  padding: .55rem 1rem;
  cursor:pointer;
  box-shadow: var(--btn-shadow);
  display:flex; align-items:center; gap:.4rem;
  transition: filter .15s ease, transform .15s ease;
}
.save-btn:hover{ filter: brightness(0.95); }

.delete-btn{
  text-transform: uppercase;
  font-weight: 600;
  background:#fff;
  color:#b3261e;
  border: 1px solid #b3261e;
  border-radius: 9999px;
  padding: .55rem 1rem;
  cursor:pointer;
  box-shadow: var(--btn-shadow);
  transition: filter .15s ease, transform .15s ease, background-color .15s ease;
}
.delete-btn:hover{ background:#f7f7f7; }
.scene-no{ font-weight:700; color:#6a6f82; }
.scene-title{  color:#989898;; font-weight:600; }
.scene-pages{
  margin-top:.25rem;
  font-size:.85rem;
  color:#8b90a3;
}

/* Aktivna scena */
.scene-item.active{
  position: relative; /*radi pseudo elemenata poslije/prije */
  background: var(--brand-100);
  border-color: transparent;
}
.scene-item.active::before{
  content:""; position:absolute; 
  top:0; right:0; bottom:0; left:0;
  border-left: 6px solid var(--brand);
  border-radius:12px;
}

/* Editor */
.editor-wrap{
  flex:1 1 auto;
  min-width:0;
  width: calc(100% - 2rem);
  margin: .8rem 1rem 1.2rem;
}
.editor-paper{
  background: var(--paper);
  border-radius: 14px;
  padding: 2.2rem 2.2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
  font-family: "Courier Prime", "Courier New", monospace;
  line-height: 1.6;
}
.scenario-line{
  white-space: pre-wrap;
}

.scenario-line.is-active{
  background: var(--brand-100);
  border-left: 4px solid var(--brand);
  padding-left: .5rem;
  border-radius: 8px;
}
.editor-paper p{ margin: 0 0 1.5em 0; } /* razmak 1.5em između pasusa */

/* Gornji red: scene + API paneli */
.top-row{
  width: calc(100% - 2rem);
  max-width: none;
  margin: .4rem 1rem 0;
  display:flex;
  align-items:flex-start;
  gap: .8rem;
}

.sidebar{
  flex: 0 0 240px;
  max-width: 240px;
}

.sidebar-title{
  font-weight: 600;
  color: var(--muted);
  margin: .2rem 0 .45rem;
}

.scene-list{
  list-style: none;
  padding: 0;
  margin: 0;
}

.scene-item{
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: .6rem;
  padding: .45rem .6rem;
  border-radius: 12px;
}

.scene-item + .scene-item{ margin-top: .25rem; }

.scene-main{
  display:flex;
  align-items: baseline;
  gap: .35rem;
  min-width: 0;
}

.scene-title{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.api-stack{
  flex: 1 1 auto;
  min-width: 0;
  display:flex;
  flex-direction: column;
  gap: 0;
}

.api-stack .api-panel{
  width: 100%;
  margin: 0;
}

/* Naslov scene (samo to posebno formatiramo) */
.scene-heading{
  color:#D68A00;
  font-size:130%;
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: .03em;
  margin: 0 0 1.5em 0;
}

/* ===== Responsivnost ===== */
@media (max-width: 750px){
  .top-row{
    flex-direction: column; /* sidebar ide iznad editora */
  }
  .sidebar{
    width:100%;
    flex-basis:auto;
    max-width: none;
  }
  html{
    font-size: 80%;
  }
  .header-center{
    max-width: 380px; /* da lakše prelomi u 2 reda */
    margin: 0 auto;
  }
  
}
.editor-toolbar{
  display:flex;
  justify-content: center;
  flex-wrap: wrap;
  gap:.4rem;
  padding: .5rem 1rem .25rem 1rem;
  background: var(--header-bg);
  border-bottom: 1px solid #e9e9ee;
}

.tool-btn{
  text-transform: uppercase;
  font-size: .75rem;
  background: var(--letters);
  color: #555;
  border: none;
  border-radius: 9999px;
  padding: .35rem .8rem;
  cursor: pointer;
  box-shadow: var(--btn-shadow);
}
.tool-btn.danger{
  background: #fff;
  color: #b3261e;
  border: 1px solid #b3261e;
}
.tool-btn.danger:hover{
  background: #f7f7f7;
}

/* Modal (potvrda brisanja) */
.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.modal.hidden{ display:none; }

.modal-content{
  width: min(520px, calc(100% - 2rem));
  background: #fff;
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}

.modal-title{
  margin: 0 0 8px 0;
  font-size: 1.2rem;
  font-weight: 800;
  color: #0f172a;
}

.modal-text{
  margin: 0;
  color: var(--muted);
}

.modal-error{
  min-height: 1.1em;
  margin-top: .6rem;
  color: #b3261e;
  font-size: .9rem;
}

.modal-actions{
  margin-top: 1rem;
  display: flex;
  justify-content: flex-end;
  gap: .5rem;
}
.tool-btn.secondary{
  font-weight: 500;
  opacity: 0.9;
}
.tool-btn:hover{
  background:#e4e4f5;
}

#poruke{
  padding: .35rem 1rem;
  font-size: .85rem;
  min-height: 1.2em;
  color:#444;
}
#poruke.error{
  color:#b3261e;
}
#poruke.success{
  color:#1b5e20;
}
.input-panel{
  margin: 0 auto;
  margin-top: .4rem;
  background: #fff;
  padding: .8rem 1rem;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  width: fit-content;
  display: flex;
  align-items: center;
  gap: .6rem;
}

/* API kontrole (S2) */
.api-panel{
  margin: 0 auto;
  margin-top: .4rem;
  background: #fff;
  padding: .8rem 1rem;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  width: min(1100px, calc(100% - 2rem));
  display: flex;
  flex-wrap: wrap;
  align-items: flex-end;
  gap: .6rem;
}

.api-field{
  display: flex;
  flex-direction: column;
  gap: .25rem;
  min-width: 160px;
}

.api-field label{
  font-size: .75rem;
  color: var(--muted);
}

.api-field input{
  padding: .3rem .5rem;
  font-size: .85rem;
  border: 1px solid #ccc;
  border-radius: 8px;
}


.input-panel.hidden{
  display: none;
}

.input-panel input{
  padding: .3rem .5rem;
  font-size: .85rem;
  border: 1px solid #ccc;
  border-radius: 6px;
}

.confirm-btn{
  background: #5b3fff;
  color: white;
  border: none;
  padding: .35rem .7rem;
  border-radius: 6px;
  cursor: pointer;
}

.confirm-btn:hover{
  background:#4a33d1;
}

.close-btn{
  background:#aaa;
  color:white;
  border:none;
  padding:.35rem .7rem;
  border-radius:6px;
  cursor:pointer;
}
.close-btn:hover{
  background:#888;
}

